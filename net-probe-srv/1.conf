{
    "__header" : {
	"ts" : "Time-stamp: <2017-05-01 16:22:54 alex>",
	"comment": "test configuration"
    },

    "global": {
    	"firmware": {
	    "current": "1.7.1",
	    "prod": "1.7.2b",
	    "preprod" : "1.6.2",
	    "test" : "1.8.0"
	},
	"config_cache" : 60
    },

    "output" :
      [
	{ "engine": "debug",
	  "parameters" : [],
	  "active" : "True"
	},

	{ "engine": "elastic",
	  "parameters" : [
	    {
	      "server" : "127.0.0.1",
	      "index" : "pyprobe",
	      "shard" : 5,
	      "replica" : 0
	    } 
	  ],
	  "active" : "False"
	},

	{ "engine" : "logstash",
	  "parameters" : [
	    {
	      "server" : "127.0.0.1",
	      "port" : 55514,
	      "transport" : "udp",
	      "fields" : [
		       {
		"ES_environnement" : "PROD",
		"KT_id" : "infra_reseau",
		"ES_application_name" : "probe site",
		"ES_version" : "1.0",
		"ES_type" : "udp_json"
		}
	      ]
	    }
	  ],
	  "active" : "False"
	},

	{ "engine" : "logstash",
	  "parameters" : [
	    {
	      "server" : "127.0.0.1",
	      "port" : 55514,
	      "transport" : "tcp",
	      "fields" : [
		       {
		"ES_environnement" : "PROD",
		"KT_id" : "infra_reseau",
		"ES_application_name" : "probe site",
		"ES_version" : "1.0",
		"ES_type" : "tcp_json"
		}
	      ]
	    }
	  ],
	  "active" : "False"
	}

      ],

    "template" : 
    [
	{ 
	    "name": "T_HEALTH",
	    "jobs" : [
       		{ 
	          "active": "True",
	          "job" : "health",
	          "freq" : 15,
		  "version" : 1,
		  "data" : {}
		}
	    ]
	},

	{
	    "name" : "T_TR_GOOGLE",
	    "jobs" : [
	       {
		   "job" : "traceroute",
		   "freq" : 300,
		   "version" : 1,
		   "active": "True",
		   "data" : {
			  "target" : "google.com",
			  "version" : 4,
			  "sequence" : 5,
			  "range": 30,
			  "wait" : 0.1,
			  "tos" : 0,
			  "timeout" : 2,
			  "size": 64
		    }
	       }
	    ]
        },

	{ 
	    "name": "T_NTP",
	    "jobs" : [
       		{ 
	          "active": "True",
	          "job" : "ntp",
	          "freq" : 15,
		  "version" : 1,
		  "data" : {}
		}
	    ]
	},

	{ 
	    "name": "T_HEALTH15_SCHED",
	    "jobs" : [
       		{ 
	          "active": "True",
	          "job" : "health",
	          "freq" : 15,
		  "schedule" : [
		     {
		        "type": "inside",
		        "enable": "12:00:00",
		        "disable": "14:00:00"
		     }
		  ],
		  "version" : 1,
		  "data" : {}
		}
	    ]
	},

	{ 
	    "name": "T_ICMP",
	    "jobs" : [
	      { "id" : 1,
	        "job" : "icmp",
	        "freq" : 10,
		"version" : 2,
		"data" : {
			"target" : "www.bikeo.fr",
			"version" : 4,
			"sequence" : 3,
			"wait" : 1,
			"tos" : 0,
			"timeout" : 0.5,
			"size": 320
		}
	      }
	    ]
	},

	{ 
	    "name": "T_PITEMP60",
	    "jobs" : [
       		{ 
	          "active": "True",
	          "job" : "temp",
	          "freq" : 60,
		  "version" : 1,
		  "data" : {}
		}
	    ]
	},

	{ 
	    "name": "T_IPERF",
	    "jobs" : [
       	      { "job" : "iperf",
	        "freq" : 30,
		"version" : 1,
		"data" : {
		   "server" : "192.168.16.227",
		   "duration" : 2,
		   "way" : "both",
		   "port" : 5201,
		   "tos" : 96
		},
		  "schedule" : [
		     {
		        "type": "inside",
		        "enable": "12:00:00",
		        "disable": "16:00:00"
		     }
		  ]
	      }
	    ]
	}



    ],

"probe" : 
  [
     { "id" : "0c1da32049786615356b761a20fdee9d39cba63a465e5ea404decabdb2b7d278",
       "probename" : "test01",
       "hostname" : "PI-test01",
       "firmware" : "prod",
       "template" : [
       		  "T_HEALTH", "T_NTP"
       ]
     },

     { "id" : "b5ecb897cf89c6183b64280321892b38ee58300c1e6d2279c40a7ad35f4ea121",
       "probename" : "test02",
       "hostname" : "Linux-test02",
       "firmware" : "test",
       "template" : [
       		  "T_HEALTH"
       ]
     },

     { "id" : "7bc77183018888928b917e78ae3ccee45a8aa1c417911c84aa5426e61a09509d",
       "probename" : "docker01",
       "hostname" : "docker01",
       "firmware": "test",
       "template" : [
       		  "T_HEALTH", "T_TR_GOOGLE", "T_NTP", "T_ICMP"
       ]
     },

     { "id" : "a751b836f02aff791f7611554a19d61e",
       "probename" : "docker02",
       "template" : [
       		  "T_HEALTH"
       ]
     },


     { "id" : "6c01b1160a9d9790a309a1b5786535d8",
       "probename" : "docker03",
       "template" : [
       		  "T_HEALTH"
       ]
     },

     { "id" : "9b4ff5e681130883f189249e6e373032",
       "probename" : "PI-test",
       "template" : [
       		  "T_HEALTH",
		  "T_PITEMP60"
       ]
     }

  ]
}
